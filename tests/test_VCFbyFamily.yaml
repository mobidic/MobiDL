## WARNING: md5 of EMPTY file = d41d8cd98f00b204e9800998ecf8427e

- name: VCFbyFamily coriells chr22
  # With VCFs produced by 'Exome.wdl' pipeline
  tags:
    - wf_level
    - hg19
    - exome
    - downsampled
    - NOsolo
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL VCFbyFamily_sub.wdl tests/VCFbyFamily/coriells_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"
  files:
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.vcf
      should_exist: true
    # Somalier files
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.somalier
      md5sum: fafadc577bd4635c9211b84525bcc8ec
    - path: byFamily/somalier_relate/related.pairs.tsv
      md5sum: 0000d673006f04a9c3645cf0f2fbcc48
    - path: byFamily/somalier_relate/related.pairs.filtered.tsv
      md5sum: 973da946bd518d17723f2b5336039303
    # MPA files
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/HG002-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    # Achab files
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_poorCoverage.xlsx
      # md5sum: Cannot md5 Excel file directly
    # Achab metrix files
    - path: byFamily/Metrix/HG002-exomeTwist-chr22_achab_catch_newHope.metrix.tsv
      md5sum: c0f15fc5e75c2fdadbc28dec45e0d6d2
    - path: byFamily/Metrix/HG002-exomeTwist-chr22_achab_catch_newHope.poorCovMetrix.tsv
      md5sum: c0f15fc5e75c2fdadbc28dec45e0d6d2

- name: VCFbyFamily coriells solo affected
  # PED contains solo -> should work
  tags:
    - wf_level
    - hg19
    - exome
    - downsampled
    - solo
    - affected
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL VCFbyFamily_sub.wdl tests/VCFbyFamily/coriells-solo-aff_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"
  files:
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/HG002-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/HG004-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/HG004-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly

- name: VCFbyFamily coriells solo
  # PED contains solo NOT affected -> should work too
  tags:
    - wf_level
    - hg19
    - exome
    - downsampled
    - solo
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL VCFbyFamily_sub.wdl tests/VCFbyFamily/coriells-solo_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"
  files:
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/HG002-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/HG004-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/HG004-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
