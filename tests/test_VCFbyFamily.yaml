## WARNING: md5 of EMPTY file = d41d8cd98f00b204e9800998ecf8427e

- name: VCFbyFamily coriells chr22
  # With VCFs produced by 'Exome.wdl' pipeline
  tags:
    - wf_level
    - hg19
    - exome
    - downsampled
    - NOsolo
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL VCFbyFamily_sub.wdl tests/VCFbyFamily/coriells_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"
  files:
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.vcf
      should_exist: true
    # Somalier files
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22.somalier
      md5sum: fafadc577bd4635c9211b84525bcc8ec
    - path: byFamily/somalier_relate/related.pairs.tsv
      md5sum: 0000d673006f04a9c3645cf0f2fbcc48
    - path: byFamily/somalier_relate/related.pairs.filtered.tsv
      md5sum: 973da946bd518d17723f2b5336039303
    # Coverage files
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_bedcov.bed
      md5sum: 3afaff806c47aa97cd7e20620e69b6fd
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_coverage.bed
      md5sum: 10b9dcba3e615cb42c59a4270d55d7d8
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_coverage.tsv
      md5sum: f124f39086244b2a73c207df17cefee0
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_genomecov.tsv
      md5sum: bd557909232b4b74ed9d61b2d20e3309
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_poor_coverage.tsv
      md5sum: 2316ccc68c936e6f3451f1cdc479dc35
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_poorCoverage_extended.tsv
      md5sum: 2f4d422553afe527ccb3c489c7e9cea2
    # MPA files
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/HG002-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    # Achab files
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_poorCoverage.xlsx
      # md5sum: Cannot md5 Excel file directly
    # Achab metrix files
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_achab_catch_newHope.metrix.tsv
      md5sum: 29ff85a9160974703b49f1d22ca4c19c
    - path: byFamily/HG002-exomeTwist-chr22/coverage/HG002-exomeTwist-chr22_achab_catch_newHope.poorCovMetrix.tsv
      md5sum: 00431f1b07268bd95fa17f2b8b86ab72
    # Custom MultiQC files
    - path: byFamily/custom_multiqc.html

- name: VCFbyFamily coriells solo affected
  # PED contains solo -> should work
  tags:
    - wf_level
    - hg19
    - exome
    - downsampled
    - solo
    - affected
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL VCFbyFamily_sub.wdl tests/VCFbyFamily/coriells-solo-aff_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"
  files:
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/HG002-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/HG004-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/HG004-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly

- name: VCFbyFamily coriells solo
  # PED contains solo NOT affected -> should work too
  tags:
    - wf_level
    - hg19
    - exome
    - downsampled
    - solo
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL VCFbyFamily_sub.wdl tests/VCFbyFamily/coriells-solo_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"
  files:
    - path: byFamily/HG002-exomeTwist-chr22/HG002-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/HG002-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG002-exomeTwist-chr22/CaptainAchab/achab_excel/HG002-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/HG004-exomeTwist-chr22.vcf
      should_exist: true
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/HG004-exomeTwist-chr22.hg19_multianno_MPA.vcf
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_newHope_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab.html
      # md5sum: Cannot md5 directly due to cwl-exec dir in file
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch_newHope.xlsx
      # md5sum: Cannot md5 Excel file directly
    - path: byFamily/HG004-exomeTwist-chr22/CaptainAchab/achab_excel/HG004-exomeTwist-chr22_achab_catch.xlsx
      # md5sum: Cannot md5 Excel file directly
